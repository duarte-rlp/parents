{% extends "global/Page.html" %}
{% load otree static %}

{% block scripts %}
    
    <script src="{% static 'js/highcharts.js' %}"></script>
    <link href="{% static 'css/styles.css' %}" rel="stylesheet">
    
    <script>

        // Gráfica
        Highcharts.chart('graph01', {
            title: {
                text: ''
            },
            xAxis: {
                min: 0,
                max: 7,
                categories: {{ labels }},
                align: 'center'
            },
            yAxis: {
                title: {
                    text: 'Retorno por cada $100'
                },
                min: {{ min_y }} - 1,
                max: {{ max_y }} + 1
            },
            series: [{
                type: "scatter",
                animation: false,
                data: [{
                    x: 0,
                    y: {{ data }},
                    name: 'Carta 1'
                    }],
                lineWidth: 1,
                enableMouseTracking: true,
                marker:{
                    enabled: true
                },
                color: 'blue',
                name: 'Inversión A'
            }],
            legend: {
                enabled: true
            }
        });

        function verify(valor) {
            let input_test = document.getElementById("in_test01").value;
            let test_01 = document.getElementById("input_test_01");
            if((valor * 10) == input_test) {
                test_01.value = 1;
            } else {
                test_01.value = 0;
            }
            let btn = document.getElementById("id_next");
            btn.click();
        }

    </script>
{% endblock %}

{% block title %}
    Parte 2
{% endblock %}

{% block content %}

<table class="table_question">
    <tr>
        <td class="cell_question" style="width: 100% !important;">    
            <div id="text01">
                {% if feedback == 1 %}
                <b>Correcto</b> 
                 usted 
                    {% if data < 0 %}
                        perderá ${% widthratio data 1 -10 %}.
                    {% else %}
                        ganará ${% widthratio data 1 10 %}.
                    {% endif %} 
                {% else %}
                <b>Incorrecto</b>
                usted 
                    {% if data < 0 %}
                        perderá ${% widthratio data 1 -10 %}.
                    {% else %}
                        ganará ${% widthratio data 1 10 %}.
                    {% endif %} 
                    <br>
                    Recuerde que por cada $100 que usted asigne a la <i>Inversión A</i> puede 
                    {% if data < 0 %}
                        perder ${% widthratio data 1 -1 %} (10 x ${% widthratio data 1 -1 %} = ${% widthratio data 1 -10 %}).
                    {% else %}
                        ganar ${{ data }} (10 x ${% widthratio data 1 1 %} = ${% widthratio data 1 10 %}).
                    {% endif %} 
                {% endif %}
            </div>
        </td>
    </tr>
</table>

<br>  
<div>
    <div id="graph01" class="div_graph"></div>
    <div class="div_tabGraph">
        <table class="tabGraph">
            <tr>
                <td class="cell_graphInv">Inversión A</td>
                <td class="cell_graph">{{ data }}</td>
                <td class="cell_graph"></td>
                <td class="cell_graph"></td>
                <td class="cell_graph"></td>
                <td class="cell_graph"></td>
                <td class="cell_graph"></td>
                <td class="cell_graph"></td>
                <td class="cell_graph"></td>
            </tr>
        </table>
    </div>
</div>

<br>

<div class="div_btnNext">
    {% next_button %}
</div>

{% endblock %}
