{% extends "global/Page.html" %}
{% load otree static %}

{% block scripts %}
    
    <script src="{% static 'choice/js/functions.js' %}"></script>
    <link href="{% static 'choice/css/styles.css' %}" rel="stylesheet">
    
    <script>

        $(document).ready(function () {
            $('.radios').click(
                function (event) {
                    let elements = document.querySelectorAll('.radios');
                    let n_checked = 0;
                    for(let i=0; i<elements.length; i++) {
                        n_checked += elements[i].checked;
                    }
                    if(n_checked == 6) {
                        let next_button = document.getElementsByClassName('otree-btn-next');
                        next_button[0].style.cssText += 'display: block !important; margin: 0 auto;';
                    }
                }
            );
        });

        window.onload = function(){
            // Usar para agregar punto de miles
            let elements = document.getElementsByTagName("toMoney");
            for(let j=0; j<elements.length; j++) {
                let num = Number(elements[j].innerHTML);
                if (num < 0) {
                    num = num * -1;
                    elements[j].innerHTML = "-$" + num.toLocaleString('es-CO').toString();
                }else {
                    elements[j].innerHTML = "$" + num.toLocaleString('es-CO').toString();
                }
            }
        };

    </script>
{% endblock %}

{% block title %}
    Actividad 4
{% endblock %}

{% block content %}

<table class="table_question">
    <tr>
        <td class="cell_question" style="width: 100% !important;">    
            <div id="text01">
                ¡Gracias por completar los problemas de decisión! Casi hemos terminado con el cuestionario. Ahora nos gustaría hacerle algunas preguntas adicionales.
                Esta actividad no afectará sus pagos. Sin embargo, le pedimos que piense cuidadosamente sus decisiones.
                <br>
                Su tarea es indicar si desea lanzar la moneda o no en seis decisiones. 
                Si usted decide lanzar la moneda, con la misma probabilidad recibirá $60.000 <b>(sello)</b> pesos 
                o perderá un valor que irá cambiando en cada decisión <b>(cara)</b>. 
                Si usted decide no lanzar la moneda, no recibirá ningún pago extra.  
                <br>
            </div>
        </td>
    </tr>
</table>

<br>  

<table style="margin: 0 auto;">
    <tr>
        <td style="width: 5%;"></td>
        <td style="width: 370px;">
        </td>
        <td style="width: 140px; text-align: center; border: 1px solid #aaaaaaaa;" class="cell_radio">
            No tirar la moneda
        </td>
        <td style="width: 140px;text-align: center; border: 1px solid #aaaaaaaa;" class="cell_radio">
            Tirar la moneda
        </td>
    </tr>
    <tr class="row_option">
        <td class="cell_option" style="text-align: center;">1.</td>
        <td class="cell_option">
            Si la moneda cae en <b>cara</b> usted <b>pierde <toMoney>20000</toMoney></b>,<br>Si la moneda cae en <b>sello</b> usted <b>gana <toMoney>60000</toMoney></b>.
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_1" value="0">
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_1" value="1">
        </td>
    </tr>
    <tr class="row_option">
        <td class="cell_option" style="text-align: center;">2.</td>
        <td class="cell_option">
            Si la moneda cae en <b>cara</b> usted <b>pierde <toMoney>30000</toMoney></b>,<br>Si la moneda cae en <b>sello</b> usted <b>gana <toMoney>60000</toMoney></b>.
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_2" value="0">
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_2" value="1">
        </td>
    </tr>
    <tr class="row_option">
        <td class="cell_option" style="text-align: center;">3.</td>
        <td class="cell_option">
            Si la moneda cae en <b>cara</b> usted <b>pierde <toMoney>40000</toMoney></b>,<br>Si la moneda cae en <b>sello</b> usted <b>gana <toMoney>60000</toMoney></b>.
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_3" value="0">
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_3" value="1">
        </td>
    </tr>
    <tr class="row_option">
        <td class="cell_option" style="text-align: center;">4.</td>
        <td class="cell_option">
            Si la moneda cae en <b>cara</b> usted <b>pierde <toMoney>50000</toMoney></b>,<br>Si la moneda cae en <b>sello</b> usted <b>gana <toMoney>60000</toMoney></b>.
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_4" value="0">
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_4" value="1">
        </td>
    </tr>
    <tr class="row_option">
        <td class="cell_option" style="text-align: center;">5.</td>
        <td class="cell_option">
            Si la moneda cae en <b>cara</b> usted <b>pierde <toMoney>60000</toMoney></b>,<br>Si la moneda cae en <b>sello</b> usted <b>gana <toMoney>60000</toMoney></b>.
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_5" value="0">
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_5" value="1">
        </td>
    </tr>
    <tr class="row_option">
        <td class="cell_option" style="text-align: center;">6.</td>
        <td class="cell_option">
            Si la moneda cae en <b>cara</b> usted <b>pierde <toMoney>70000</toMoney></b>,<br>Si la moneda cae en <b>sello</b> usted <b>gana <toMoney>60000</toMoney></b>.
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_6" value="0">
        </td>
        <td class="cell_radio">
            <input type="radio" class="radios" name="row_6" value="1">
        </td>
    </tr>
</table>

<br>

<div class="div_btnNext">
    <button class="otree-btn-next btn btn-primary" style="display: none;" id="id_next">Enviar</button>
</div>

{% endblock %}
